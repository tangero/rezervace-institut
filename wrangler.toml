# Cloudflare Pages Configuration for Institut Pí
# Frontend SvelteKit application

name = "rezervace-institut"
compatibility_date = "2024-01-01"

# Pages build output directory
pages_build_output_dir = ".svelte-kit/cloudflare"

# NOTE: Build command MUST be configured in Cloudflare Pages Dashboard
# Pages projects do not support [build] section in wrangler.toml
# Go to: Pages → Settings → Builds & deployments
# Set: Build command = "npm run build"

# Environment variables (non-sensitive)
[vars]
SITE_URL = "https://akce.institutpi.cz"
MAIN_SITE_URL = "https://www.institutpi.cz"
BANK_ACCOUNT = "2002103571/2010"
ADMIN_EMAIL = "patrick.zandl@institutpi.cz"

# D1 Database binding
[[d1_databases]]
binding = "DB"
database_name = "institutpi-events"
database_id = "to-be-created" # Replace with actual database ID after creation

# R2 Bucket for images
[[r2_buckets]]
binding = "IMAGES"
bucket_name = "institutpi-images"

# Preview environment configuration
[env.preview]
name = "rezervace-institut-preview"

# Production environment configuration
[env.production]
name = "rezervace-institut-production"
